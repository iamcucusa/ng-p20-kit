/**
 * Saga-Blue Theme CSS Layers
 * Implements proper CSS cascade with layers for PrimeNG 20
 */

/* Layer 1: Base tokens and CSS variables */
@layer base {
  :root {
    /* Primary colors */
    --primary-color: #2196f3;
    --primary-color-text: #ffffff;
    
    /* Surface colors */
    --surface-ground: #f8f9fa;
    --surface-section: #ffffff;
    --surface-card: #ffffff;
    --surface-overlay: #ffffff;
    --surface-border: #dee2e6;
    --surface-hover: #e9ecef;
    
    /* Text colors */
    --text-color: #495057;
    --text-color-secondary: #6c757d;
    --text-color-disabled: #adb5bd;
    
    /* Focus ring */
    --focus-ring: 0 0 0 0.2rem #a6d5fa;
    
    /* Highlight colors */
    --highlight-bg: #E3F2FD;
    --highlight-text-color: #495057;
    
    /* Mask/overlay */
    --maskbg: rgba(0, 0, 0, 0.4);
    
    /* Spacing */
    --content-padding: 1rem;
    --inline-spacing: 0.5rem;
    
    /* Border radius */
    --border-radius: 3px;
    
    /* Font family */
    --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  }
}

/* Layer 2: Component styles */
@layer components {
  /* Custom scroll panel styles */
  .p-scrollpanel.custombar1 .p-scrollpanel-wrapper {
    border-right: 9px solid var(--surface-card);
  }
  
  .p-scrollpanel.custombar1 .p-scrollpanel-bar {
    background-color: var(--primary-color);
    opacity: 1;
    transition: background-color 0.2s;
  }
  
  .p-scrollpanel.custombar1 .p-scrollpanel-bar:hover {
    background-color: #007ad9;
  }
  
  .p-scrollpanel.custombar2 .p-scrollpanel-wrapper {
    border-right: 9px solid var(--surface-card);
  }
  
  .p-scrollpanel.custombar2 .p-scrollpanel-bar {
    background-color: #9c27b0;
    border-radius: 0;
    opacity: 1;
    transition: background-color 0.2s;
  }
  
  /* Overlay styles */
  .p-component-overlay {
    background-color: rgb(227 242 253 / 60%);
  }
  
  /* TabView styles */
  .p-tabview .p-tabview-panels {
    background: transparent;
  }
  
  /* DataTable styles */
  .p-datatable .p-datatable-tbody > tr.pg-no-hover,
  .p-datatable .p-datatable-tbody > tr.pg-no-hover:hover {
    background: transparent !important;
    box-shadow: none !important;
  }
  
  .p-datatable .p-datatable-tbody > tr.pg-no-hover > td {
    cursor: auto !important;
    border: 0;
    padding: 0;
  }
  
  /* Button fluid styles */
  .p-fluid .p-button {
    /* width: auto; - commented out as per original */
  }
}

/* Layer 3: Utilities */
@layer utilities {
  /* Required field indicator */
  .p-required:after {
    content: "*";
    color: #d9362b;
  }
  
  /* Visually hidden for accessibility */
  .visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0 0 0 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }
  
  /* Plotly mode bar hiding */
  .modebar-container {
    display: none;
  }
}

/* Layer 4: Base styles */
@layer base {
  html, body {
    height: 100%;
    width: 100%;
    padding: 0;
    margin: 0;
  }
  
  html {
    font-size: 1rem;
  }
  
  body {
    font-family: var(--font-family);
    background-color: var(--surface-ground);
    color: var(--text-color);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    display: flex;
    flex-direction: column;
  }
}
